<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html class="subPage">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv='pragma' content='no-cache'>
<title>
	康凯科技（杭州）有限公司
</title>
<script type="text/javascript" src="js/jquery-1.8.3.min.js?1468922814" charset="utf-8"></script>
<script type="text/javascript" src="js/myForm.js?1468922814" charset="utf-8"></script>
<script type="text/javascript" src="js/myutil.js?1468922814" charset="utf-8"></script>
<script type="text/javascript" src="js/validate.js?1468922814" charset="utf-8"></script>
<link rel="stylesheet" href="css/basic.css" type="text/css">

<script type="text/javascript">
	function myhelp() {
		popHelp("userAdd");
	}

	function isInputValid() {
		if ( $("#text_userName").val() == "" ) {
			myAlert( "用户名不能为空！", "text_userName" );		
			return false;
		}

		if ( !checkUserName( $("#text_userName").val() ) ) {
			myAlert("非法的用户名！", "text_userName");
			return false;
		}

		if ( $("#text_password").val() == "" ) {
			myAlert( "用户密码不能为空！", "text_password" );		
			return false;
		}

		if ( checkPassword( $("#text_password").val()) == false ) {
			myAlert("非法的初始密码！", "text_password");
			return false;
		}

		if ( $("#text_password").val() != $("#text_password_check").val() ) {
			myAlert( "两次输入的用户密码不一致！", "text_password_check" );		
			return false;
		}
		return true;
	}

	function ok() {
		if ( isInputValid() == false ) 
			return;

		var url="setform/form_add_user?UID="+parent.uid;
		var f = new myForm();
		f.add( "name", $("#text_userName").val());
		var level = $("#option_user_level").val();
		f.add( "password", $("#text_password").val());
		f.add( "level", $("#option_user_level").val());
		f.submit( url, addUserSuccess );
	}

	function cancel(){
       load(); 
	}

	function addUserSuccess() {
		pageJump("accounts_manage.asp?UID="+parent.uid);
	}

	function goBack(){
		pageJump("accounts_manage.asp?UID="+parent.uid);
	}
	
	function load(){
	}

	function init(){
		setNavigationBar("设备管理>用户管理>新增用户");
		load();
	}
</script> 


</head>
<body onLoad="init();">
	<form id="myForm"></form>
		<div id="INNER" align="left" style="margin-top:10px">
			<table width="100%" border="0" cellspacing="0" cellpadding="0">
				<tr>
					<td class="bulleted"><div>&nbsp;</div></td>
					<td class="my_title_tbl_content"><div>新增用户</div></td>
					<td>&nbsp;</td>
				</tr>
			</table>
		</div>	
		<div class="mytbl_content">
			<table style="width:100%;">
				<tr class="staticIP">
					<td class="col1">用户名：</td>
					<td class="col2"><input type="text" id="text_userName" name="text_userName" maxlength="32" />（1-32个字符，只包含数字、字母、下划线）</td>
				</tr>
				<tr height="28">
					<td class="col1">级别：</td>
					<td class="col2">
						<select id="option_user_level" name="option_user_level" >
							<option value="0">普通用户</option>
							<option value="1">管理用户</option>
						</select>		
					</td>
				</tr>
				<tr>
					<td class="col1">初始密码：</td>
					<td class="col2"><input type="password" id="text_password" name="text_password" size="20" maxlength="32" maxlength="32" />（1-32个字符，不包含单、双引号、分号、空格、问号）</td>
				</tr>
				<tr>
					<td class="col1">确认密码：</td>
					<td class="col2"><input type="password" id="text_password_check" name="text_password" size="20" maxlength="32" maxlength="32" /></td>
				</tr>
			</table>
		</div>
		
		<div class="content_option">
			<input type="button" class="buttonL" onClick="goBack();" value="返 回" />
			<!--
			<input type="button" class="buttonL" onClick="cancel();" value="取 消" />
			-->
			<input type="button" class="buttonL" onClick="ok();" value="确 定" />
		</div>
</body>
</html>
